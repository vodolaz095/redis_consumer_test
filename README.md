Redis Consumer Test
===============================
Попытка разобраться, можно ли использовать PubSub очереди в редис как надёжный механизм доставки.

Как проверить самому
================================

1. Запустить redis - можно через docker/podman compose
    ```shell
    $ make podman/up
    $ make docker/up
    ```

2. Изменить константы в `main.go`
3. Запустить по `make start`
4. CTRL+C - останавливает приложение и выводит статистику

Замечено
===============================
1. При потреблении сообщения попадают в буферизированный канал внутри драйвера редиса
2. При перезапуске приложения сообщения теряются
3. Если мы хотим запустить более одного потребителя, то все потребители получают один и тот же набор 
   сообщений - механизм распределения задач надо делать самому.
4. При тестах теряется порядка 0.1% сообщений.

```

2025/12/07 00:48:12 Приложение остановлено!
2025/12/07 00:48:12 Интервал отправки: 1ms
2025/12/07 00:48:12 Задержка обработки: 10ms
2025/12/07 00:48:12 Количество потребителей : 10
2025/12/07 00:48:12 Размер буфера канала : 10
2025/12/07 00:48:12 Отправлено: 1000
2025/12/07 00:48:12 Принято: 9998
2025/12/07 00:48:12 Потребитель 0: принял 1000 сообщений, доля потерянных сообщений: 0.00%
2025/12/07 00:48:12 Потребитель 1: принял 1000 сообщений, доля потерянных сообщений: 0.00%
2025/12/07 00:48:12 Потребитель 2: принял 1000 сообщений, доля потерянных сообщений: 0.00%
2025/12/07 00:48:12 Потребитель 3: принял 1000 сообщений, доля потерянных сообщений: 0.00%
2025/12/07 00:48:12 Потребитель 4: принял 1000 сообщений, доля потерянных сообщений: 0.00%
2025/12/07 00:48:12 Потребитель 5: принял 1000 сообщений, доля потерянных сообщений: 0.00%
2025/12/07 00:48:12 Потребитель 6: принял 999 сообщений, доля потерянных сообщений: 0.10%
2025/12/07 00:48:12 Потребитель 7: принял 1000 сообщений, доля потерянных сообщений: 0.00%
2025/12/07 00:48:12 Потребитель 8: принял 1000 сообщений, доля потерянных сообщений: 0.00%
2025/12/07 00:48:12 Потребитель 9: принял 999 сообщений, доля потерянных сообщений: 0.10%

```
![result.png](result.png)
